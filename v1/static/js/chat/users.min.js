function appendUserData(a){var e=$("#users-container"),t=$("<li>");t.html(`\n        <a href="chat?user_id=${a.user_id}">\n            <img class="content-message-image" src="/static/images/profile/${a.profile}" alt="">\n            <span class="content-message-info">\n                <span class="content-message-name">${a.name}</span>\n                <span class="content-message-text">${a.latest_chat?$("<div>").text(a.latest_chat.message).html():""}</span>\n            </span>\n            <span class="content-message-more">\n                <!-- <span class="content-message-unread">4</span> -->\n                <span class="content-message-time">${a.latest_chat?a.latest_chat.time:""}</span>\n            </span>\n        </a>\n    `),e.append(t)}function fetchData(a){$.ajax({url:"/get_users",type:"GET",dataType:"json",data:{query:a},success:function(a){$("#users-container").empty(),a.users.forEach(function(a){appendUserData(a)})},error:function(a){console.error("Error fetching data:",a)}})}var delayTimer;$("#searchInput").on("input",function(){var a=$(this).val();""!==a.trim()?(clearTimeout(delayTimer),delayTimer=setTimeout(function(){fetchData(a)},500)):(clearTimeout(delayTimer),fetchData(""))}),$("#searchButton").click(function(){fetchData($("#searchInput").val().trim())}),fetchData("");